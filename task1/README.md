## Характеристики вычислительной машины

* Процессор — 13th Gen Intel(R) Core(TM) i7-1355U 1.70 GHz
* Оперативная память — 32.0 GB
* Операционная система — Windows 11

## Эксперименты

Каждый эксперимент будет проводиться на таком пуле функций:

* $f_1(x, y) = 52$
* $f_2(x, y) = x + y$
* $f_3(x, y) = |x-0.5| + |y-0.5|$
* $f_4(x, y) = 1 / sin(x + y + 0.01)$

В ходе экспериментов проводились запуски алгоритма. Результаты его работы представленны в виде таблиц. Обозначения
результатов в таблице:

* время работы — t
* средняя ошибка аппроксимации — e

Пример записи результата в таблице — (e: 0.00)

### Изначальное заполнение сетки

В зависимости от того, какие значения изначально стоят в узлах сетки, может меняться количество итераций алгоритма и
вычислительная ошибка.

В этом эксперименте происходит сравнение результатов работы алгоритма при заполнении сетки
нулями и средним значением краевых точек.

### Влияние eps на время работы и вычислительную ошибку алгоритма

Этот эксперимент нацелен на сравнение времени работы и вычислительной ошибки алгоритма при использовании различных eps.

Размер блока — $64$.
Количество потоков — $8$.

#### Результаты запуска для функции $f_1$:

| $net size$      | 20                       | 50                       | 100                      | 200                       | 
|-----------------|--------------------------|--------------------------|--------------------------|---------------------------|
| $eps = 10^{-1}$ | $(t: 0.015c) (e: 0.037)$ | $(t: 0.063c) (e: 0.221)$ | $(t: 0.156c) (e: 0.618)$ | $(t: 0.264c) (e: 0.797)$  | 
| $eps = 10^{-3}$ | $(t: 0.026c) (e: 3e-4)$  | $(t: 0.405c) (e: 0.002)$ | $(t: 2.006c) (e: 0.008)$ | $(t: 16.306c) (e: 0.032)$ | 
| $eps = 10^{-6}$ | $(t: 0.044c) (e: 4e-7)$  | $(t: 1.012c) (e: 2e-6)$  | $(t: 5.169c) (e: 8e-6)$  | $(t: 50.137c) (e: 3e-5)$  |

#### Результаты запуска для функции $f_2$:

| $net size$      | 20                       | 50                       | 100                      | 200                      | 
|-----------------|--------------------------|--------------------------|--------------------------|--------------------------|
| $eps = 10^{-1}$ | $(t: 0.008c) (e: 0.682)$ | $(t: 0.009c) (e: 0.860)$ | $(t: 0.01c) (e: 0.927)$  | $(t: 0.02c) (e: 0.962)$  | 
| $eps = 10^{-3}$ | $(t: 0.016c) (e: 0.022)$ | $(t: 0.084c) (e: 0.125)$ | $(t: 0.326c) (e: 0.405)$ | $(t: 0.944c) (e: 0.656)$ | 
| $eps = 10^{-6}$ | $(t: 0.036c) (e: 2e-5)$  | $(t: 0.388c) (e: 1e-4)$  | $(t: 3.745c) (e: 4e-4)$  | $(t: 39.24c) (e: 1e-3)$  |

#### Результаты запуска для функции $f_3$:

| $net size$      | 20                       | 50                       | 100                      | 200                       | 
|-----------------|--------------------------|--------------------------|--------------------------|---------------------------|
| $eps = 10^{-1}$ | $(t: 0.006c) (e: 0.707)$ | $(t: 0.007c) (e: 0.890)$ | $(t: 0.009c) (e: 0.945)$ | $(t: 0.01c) (e: 0.973)$   | 
| $eps = 10^{-3}$ | $(t: 0.14c) (e: 0.847)$  | $(t: 0.067c) (e: 0.463)$ | $(t: 0.153c) (e: 0.447)$ | $(t: 0.459c) (e: 0.717)$  | 
| $eps = 10^{-6}$ | $(t: 0.034c) (e: 0.921)$ | $(t: 0.356c) (e: 0.9)$   | $(t: 3.389c) (e: 0.903)$ | $(t: 28.663c) (e: 0.896)$ |

#### Результаты запуска для функции $f_4$:

| $net size$      | 20                       | 50                       | 100                      | 200                       | 
|-----------------|--------------------------|--------------------------|--------------------------|---------------------------|
| $eps = 10^{-1}$ | $(t: 0.008c) (e: 0.61)$  | $(t: 0.009c) (e: 0.777)$ | $(t: 0.022c) (e: 0.853)$ | $(t: 0.069c) (e: 0.906)$  | 
| $eps = 10^{-3}$ | $(t: 0.02c) (e: 0.014)$  | $(t: 0.093c) (e: 0.1)$   | $(t: 0.403c) (e: 0.347)$ | $(t: 1.616c) (e: 0.559)$  | 
| $eps = 10^{-6}$ | $(t: 0.051c) (e: 0.009)$ | $(t: 0.389c) (e: 0.003)$ | $(t: 3.861c) (e: 6e-4)$  | $(t: 32.704c) (e: 0.001)$ |

Исходя из полученных результатов выполнения алгоритма можно сказать, что при фиксированном размере сетки при уменьшении
eps увеличивается время работы алгоритма и уменьшается средняя ошибка аппроксимации.

### Влияение размерности сетки на время работы и вычислительную ошибку алгоритма

Воспользуемся результатами выполнения алгоритма, полученными в предыдущем эксперименте.
Интересным наблюдением стало то, что для каждой функций при фиксированном eps существует свой оптимальный размер сетки,
обеспечивающий минимальную ошибку.

### Влияение размерности блока на время работы и вычислительную ошибку алгоритма

Количество потоков — $8$.
Размер сети — $100$.
$eps$ — $1e-2$

| $block size$ | 1                         | 8                        | 16                       | 32                       | 64                       | 96                       | 
|--------------|---------------------------|--------------------------|--------------------------|--------------------------|--------------------------|--------------------------|
| $f_1$        | $(t: 16.461c) (e: 0.082)$ | $(t: 2.5c) (e: 0.082)$   | $(t: 1.684c) (e: 0.082)$ | $(t: 1.245c) (e: 0.082)$ | $(t: 1.1c) (e: 0.082)$   | $(t: 1.311c) (e: 0.082)$ | 
| $f_2$        | $(t: 0.606c) (e: 0.775)$  | $(t: 0.082c) (e: 0.775)$ | $(t: 0.056c) (e: 0.775)$ | $(t: 0.051c) (e: 0.775)$ | $(t: 0.041c) (e: 0.775)$ | $(t: 0.051c) (e: 0.775)$ | 
| $f_3$        | $(t: 0.314c) (e: 0.821)$  | $(t: 0.055) (e: 0.821)$  | $(t: 0.036c) (e: 0.821)$ | $(t: 0.027c) (e: 0.821)$ | $(t: 0.025c) (e: 0.821)$ | $(t: 0.03c) (e: 0.821)$  |
| $f_4$        | $(t: 1.244) (e: 0.676)$   | $(t: 0.2) (e: 0.676)$    | $(t: 0.122c) (e: 0.676)$ | $(t: 0.099c) (e: 0.676)$ | $(t: 0.081c) (e: 0.676)$ | $(t: 0.089c) (e: 0.676)$ |

Исходя из полученных результатов можно сказать, что оптимальным размером блока из тех, что использовались для эксперимента, является — 64. 
Величина ошибки при изменении блока остается неизменной.


### Влияние количества потоков на время работы алгоритма

#### Результаты запуска для функции $f_1$:

| $net size$ | 500                      | 1000                     | 2000                      | 3000                      | 
|------------|--------------------------|--------------------------|---------------------------|---------------------------|
| 1 поток    | $(t: 2.021c) (e: 0.916)$ | $(t: 8.11c) (e: 0.958)$  | $(t: 32.639c) (e: 0.978)$ | $(t: 86.932c) (e: 0.986)$ | 
| 2 потоков  | $(t: 1.606c) (e: 0.916)$ | $(t: 5.639c) (e: 0.958)$ | $(t: 21.85c) (e: 0.978)$  | $(t: 54.139c) (e: 0.986)$ |
| 4 потоков  | $(t: 0.988c) (e: 0.916)$ | $(t: 3.622c) (e: 0.958)$ | $(t: 12.654c) (e: 0.978)$ | $(t: 32.415c) (e: 0.986)$ |
| 8 потоков  | $(t: 0.8c) (e: 0.916)$   | $(t: 2.227c) (e: 0.958)$ | $(t: 7.73c) (e: 0.978)$   | $(t: 22.556c) (e: 0.986)$ |
| 12 потоков | $(t: 0.781c) (e: 0.916)$ | $(t: 2.048c) (e: 0.958)$ | $(t: 7.135c) (e: 0.978)$  | $(t: 16.927c) (e: 0.986)$ |

#### Результаты запуска для функции $f_2$:

| $net size$ | 500                      | 1000                     | 2000                     | 3000                     | 
|------------|--------------------------|--------------------------|--------------------------|--------------------------|
| 1 поток    | $(t: 0.111c) (e: 0.984)$ | $(t: 0.428c) (e: 0.992)$ | $(t: 1.738c) (e: 0.996)$ | $(t: 3.806c) (e: 0.997)$ | 
| 2 потоков  | $(t: 0.076c) (e: 0.984)$ | $(t: 0.313c) (e: 0.992)$ | $(t: 1.118c) (e: 0.996)$ | $(t: 2.558c) (e: 0.997)$ |
| 4 потоков  | $(t: 0.054c) (e: 0.984)$ | $(t: 0.202c) (e: 0.992)$ | $(t: 0.702c) (e: 0.996)$ | $(t: 1.506c) (e: 0.997)$ |
| 8 потоков  | $(t: 0.044c) (e: 0.984)$ | $(t: 0.136c) (e: 0.992)$ | $(t: 0.427c) (e: 0.996)$ | $(t: 0.959c) (e: 0.997)$ |
| 12 потоков | $(t: 0.04c) (e: 0.984)$  | $(t: 0.13c) (e: 0.992)$  | $(t: 0.35c) (e: 0.996)$  | $(t: 0.753c) (e: 0.997)$ |

#### Результаты запуска для функции $f_3$:

| $net size$ | 500                      | 1000                     | 2000                     | 3000                     | 
|------------|--------------------------|--------------------------|--------------------------|--------------------------|
| 1 поток    | $(t: 0.055c) (e: 0.989)$ | $(t: 0.232c) (e: 0.995)$ | $(t: 0.939c) (e: 0.997)$ | $(t: 1.842c) (e: 0.998)$ | 
| 2 потоков  | $(t: 0.041c) (e: 0.989)$ | $(t: 0.152c) (e: 0.995)$ | $(t: 0.532c) (e: 0.997)$ | $(t: 1.308c) (e: 0.998)$ |
| 4 потоков  | $(t: 0.037c) (e: 0.989)$ | $(t: 0.085c) (e: 0.995)$ | $(t: 0.317c) (e: 0.997)$ | $(t: 0.753c) (e: 0.998)$ |
| 8 потоков  | $(t: 0.029c) (e: 0.989)$ | $(t: 0.074c) (e: 0.995)$ | $(t: 0.2c) (e: 0.997)$   | $(t: 0.516c) (e: 0.998)$ |
| 12 потоков | $(t: 0.026c) (e: 0.989)$ | $(t: 0.062c) (e: 0.995)$ | $(t: 0.177c) (e: 0.997)$ | $(t: 0.404c) (e: 0.998)$ |

#### Результаты запуска для функции $f_4$:

| $net size$ | 500                      | 1000                     | 2000                      | 3000                      | 
|------------|--------------------------|--------------------------|---------------------------|---------------------------|
| 1 поток    | $(t: 0.796c) (e: 0.949)$ | $(t: 4.886c) (e: 0.968)$ | $(t: 26.298c) (e: 0.981)$ | $(t: 69.142c) (e: 0.986)$ | 
| 2 потоков  | $(t: 0.624c) (e: 0.949)$ | $(t: 3.206c) (e: 0.968)$ | $(t: 16.945c) (e: 0.981)$ | $(t: 54.532c) (e: 0.986)$ |
| 4 потоков  | $(t: 0.425c) (e: 0.949)$ | $(t: 2.121c) (e: 0.968)$ | $(t: 10.16c) (e: 0.981)$  | $(t: 34.4c) (e: 0.986)$   |
| 8 потоков  | $(t: 0.344c) (e: 0.949)$ | $(t: 1.34c) (e: 0.968)$  | $(t: 6.344c) (e: 0.981)$  | $(t: 23.434c) (e: 0.986)$ |
| 12 потоков | $(t: 0.34c) (e: 0.949)$  | $(t: 1.215c) (e: 0.968)$ | $(t: 5.472c) (e: 0.981)$  | $(t: 21.846c) (e: 0.986)$ |

Таким образом, при увеличении количества потоков, уменьшается время выполнения алгоритма. Причем, при увеличении размерности сетки, отношение производительности многопоточного исполнения к однопоточному — увеличивается.